import{a as w,i as c,S as C}from"./assets/vendor-64b55ca9.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=e(n);fetch(n.href,s)}})();const L="https://pixabay.com/api/",I="42552421-44c442bdd9fc0080a82eeb482",b=15;let u=1;async function h(t){const r=`${L}?key=${I}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${b}&page=${u}`;try{const e=await w.get(r);if(e.status!==200)throw new Error(`HTTP error! Status: ${e.status}`);const o=e.data;if(!o.hits||o.hits.length===0)throw new Error("No images found for the given query.");return u++,o.hits}catch(e){throw console.error("Error fetching images:",e),e}}const y=t=>{const r=document.getElementById("gallery"),e=document.getElementById("load-more-btn"),o=document.getElementById("loading-indicator");for(;r.firstChild;)r.removeChild(r.firstChild);if(t.length===0){c.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"}),e.style.display="none",o.style.display="none";return}t.forEach(s=>{const a=v(s);r.appendChild(a)}),new C(".gallery-item",{captionsData:"alt",captionDelay:250}).refresh()},v=t=>{const r=document.createElement("a");r.classList.add("gallery-item"),r.href=t.largeImageURL;const e=document.createElement("img");e.src=t.webformatURL,e.alt=t.tags;const o=document.createElement("div");o.classList.add("gallery-item-info");const n=i("Likes",t.likes),s=i("Views",t.views),a=i("Comments",t.comments),E=i("Downloads",t.downloads);return o.appendChild(n),o.appendChild(s),o.appendChild(a),o.appendChild(E),r.appendChild(e),r.appendChild(o),r},i=(t,r)=>{const e=document.createElement("div");e.classList.add("gallery-item-info-element");const o=document.createElement("span");o.textContent=`${t}: `;const n=document.createElement("span");return n.textContent=r,e.appendChild(o),e.appendChild(n),e},P=document.getElementById("search-form"),m=document.getElementById("search-input"),B=document.getElementById("gallery"),d=document.getElementById("load-more-btn"),f=document.querySelector(".loader");document.querySelector(".loader");let p="";function S(){B.innerHTML=""}function l(){f.style.display="none"}const g=()=>{f.style.display="block"};P.addEventListener("submit",function(t){t.preventDefault();const r=m.value.trim();if(S(),r===""){c.warning({title:"Warning",message:"Please enter a search term."}),l(),d.style.display="none";return}p=r,g(),h(r).then(e=>{e.length===0?c.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again."}):(y(e),d.style.display="block",m.value="")}).catch(e=>{console.error("Error in search:",e),m.value="",c.error({title:"Error",message:"An error occurred while fetching images. Please try again."})}).finally(()=>{l()})});d.addEventListener("click",function(){g(),h(p).then(t=>{t.length===0?(d.style.display="none",l()):(y(t),l())}).catch(t=>{console.error("Error loading more images:",t),l()})});
//# sourceMappingURL=commonHelpers.js.map
