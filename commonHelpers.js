import{a as g,S as E,i as l}from"./assets/vendor-64b55ca9.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();const w="https://pixabay.com/api/",b="42552421-44c442bdd9fc0080a82eeb482";async function I(t){const r=`${w}?key=${b}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true`;try{const e=await g.get(r);if(e.status!==200)throw new Error(`HTTP error! Status: ${e.status}`);const n=e.data;if(n.hits.length===0)throw new Error("No images found for the given query.");return n.hits}catch(e){throw console.error("Error fetching images:",e),e}}const L="https://pixabay.com/api/",C="42552421-44c442bdd9fc0080a82eeb482";let c=1,h="";const m=t=>{const r=document.getElementById("gallery"),e=document.getElementById("load-more-btn"),n=document.getElementById("loading-indicator");for(;r.firstChild;)r.removeChild(r.firstChild);if(t.length===0){iziToast.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"}),e.style.display="none",n.style.display="none";return}t.forEach(a=>{const s=v(a);r.appendChild(s)}),new E(".gallery-item",{captionsData:"alt",captionDelay:250}).refresh(),e.style.display="block",n.style.display="none"},v=t=>{const r=document.createElement("a");r.classList.add("gallery-item"),r.href=t.largeImageURL;const e=document.createElement("img");e.src=t.webformatURL,e.alt=t.tags;const n=document.createElement("div");n.classList.add("gallery-item-info");const o=i("Likes",t.likes),a=i("Views",t.views),s=i("Comments",t.comments),f=i("Downloads",t.downloads);return n.appendChild(o),n.appendChild(a),n.appendChild(s),n.appendChild(f),r.appendChild(e),r.appendChild(n),r},i=(t,r)=>{const e=document.createElement("div");e.classList.add("gallery-item-info-element");const n=document.createElement("span");n.textContent=`${t}: `;const o=document.createElement("span");return o.textContent=r,e.appendChild(n),e.appendChild(o),e},P=async()=>{c++;const t=await y(h,c);t&&m(t.hits)},y=async(t,r)=>{const e=`${L}?key=${C}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true&page=${r}&per_page=15`;try{const n=await fetch(e);if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);const o=await n.json();if(o.hits.length===0)throw new Error("No images found for the given query.");return o}catch(n){throw console.error("Error fetching images:",n),n}};document.getElementById("load-more-btn").addEventListener("click",()=>{document.getElementById("loading-indicator").style.display="block",document.getElementById("load-more-btn").style.display="none",P()});document.getElementById("search-form").addEventListener("submit",async t=>{t.preventDefault();const r=t.target.querySelector("#search-input").value;c=1,h=r;const e=await y(r,c);e&&m(e.hits)});const $=document.getElementById("search-form"),d=document.getElementById("search-input"),p=document.querySelector(".loader");function u(){const t=document.getElementById("gallery");t.innerHTML=""}function q(){p.style.display="none"}const B=()=>{p.style.display="block"};$.addEventListener("submit",function(t){t.preventDefault();const r=d.value.trim();if(u(),r===""){l.warning({title:"Warning",message:"Please enter a search term."}),u();return}B(),I(r).then(e=>{e.length===0?l.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again."}):(m(e),d.value="")}).catch(e=>{console.error("Error in search:",e),d.value="",l.error({title:"Error",message:"An error occurred while fetching images. Please try again."})}).finally(()=>{q()})});
//# sourceMappingURL=commonHelpers.js.map
