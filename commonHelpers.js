import{a as p,i as l,S as y}from"./assets/vendor-64b55ca9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=e(r);fetch(r.href,a)}})();const g="https://pixabay.com/api/",E="42552421-44c442bdd9fc0080a82eeb482",w=15;let d=1;async function C(n){const t=`${g}?key=${E}&q=${n}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${w}&page=${d}`;try{const e=await p.get(t);if(e.status!==200)throw new Error(`HTTP error! Status: ${e.status}`);const o=e.data;if(!o.hits||o.hits.length===0)throw new Error("No images found for the given query.");return d++,o.hits}catch(e){throw console.error("Error fetching images:",e),e}}const I=n=>{const t=document.getElementById("gallery"),e=document.getElementById("load-more-btn"),o=document.getElementById("loading-indicator");for(;t.firstChild;)t.removeChild(t.firstChild);if(n.length===0){l.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"}),e.style.display="none",o.style.display="none";return}n.forEach(a=>{const s=L(a);t.appendChild(s)}),new y(".gallery-item",{captionsData:"alt",captionDelay:250}).refresh()},L=n=>{const t=document.createElement("a");t.classList.add("gallery-item"),t.href=n.largeImageURL;const e=document.createElement("img");e.src=n.webformatURL,e.alt=n.tags;const o=document.createElement("div");o.classList.add("gallery-item-info");const r=i("Likes",n.likes),a=i("Views",n.views),s=i("Comments",n.comments),f=i("Downloads",n.downloads);return o.appendChild(r),o.appendChild(a),o.appendChild(s),o.appendChild(f),t.appendChild(e),t.appendChild(o),t},i=(n,t)=>{const e=document.createElement("div");e.classList.add("gallery-item-info-element");const o=document.createElement("span");o.textContent=`${n}: `;const r=document.createElement("span");return r.textContent=t,e.appendChild(o),e.appendChild(r),e},b=document.getElementById("search-form"),c=document.getElementById("search-input"),h=document.querySelector(".loader");document.getElementById("load-more-btn");function m(){const n=document.getElementById("gallery");n.innerHTML=""}function u(){h.style.display="none"}const v=()=>{h.style.display="block"};b.addEventListener("submit",function(n){n.preventDefault();const t=c.value.trim();if(m(),t===""){l.warning({title:"Warning",message:"Please enter a search term."}),m(),u();return}v(),C(t).then(e=>{e.length===0?l.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again."}):(I(e),c.value="")}).catch(e=>{console.error("Error in search:",e),c.value="",l.error({title:"Error",message:"An error occurred while fetching images. Please try again."})}).finally(()=>{u()})});
//# sourceMappingURL=commonHelpers.js.map
