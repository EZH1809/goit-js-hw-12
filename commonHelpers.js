import{a as h,S as f,i as l}from"./assets/vendor-64b55ca9.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function e(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=e(t);fetch(t.href,s)}})();const p="https://pixabay.com/api/",y="42552421-44c442bdd9fc0080a82eeb482";async function g(n){const r=`${p}?key=${y}&q=${n}&image_type=photo&orientation=horizontal&safesearch=true`;try{const e=await h.get(r);if(e.status!==200)throw new Error(`HTTP error! Status: ${e.status}`);const o=e.data;if(o.hits.length===0)throw new Error("No images found for the given query.");return o.hits}catch(e){throw console.error("Error fetching images:",e),e}}const E=n=>{const r=document.getElementById("gallery");for(;r.firstChild;)r.removeChild(r.firstChild);if(n.length===0){iziToast.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"});return}n.forEach(o=>{const t=w(o);r.appendChild(t)}),new f(".gallery-item",{captionsData:"alt",captionDelay:250}).refresh()},w=n=>{const r=document.createElement("a");r.classList.add("gallery-item"),r.href=n.largeImageURL;const e=document.createElement("img");e.src=n.webformatURL,e.alt=n.tags;const o=document.createElement("div");o.classList.add("gallery-item-info");const t=i("Likes",n.likes),s=i("Views",n.views),a=i("Comments",n.comments),u=i("Downloads",n.downloads);return o.appendChild(t),o.appendChild(s),o.appendChild(a),o.appendChild(u),r.appendChild(e),r.appendChild(o),r},i=(n,r)=>{const e=document.createElement("div");e.classList.add("gallery-item-info-element");const o=document.createElement("span");o.textContent=`${n}: `;const t=document.createElement("span");return t.textContent=r,e.appendChild(o),e.appendChild(t),e},C=document.getElementById("search-form"),c=document.getElementById("search-input"),m=document.querySelector(".loader");function d(){const n=document.getElementById("gallery");n.innerHTML=""}function L(){m.style.display="none"}const v=()=>{m.style.display="block"};C.addEventListener("submit",function(n){n.preventDefault();const r=c.value.trim();if(d(),r===""){l.warning({title:"Warning",message:"Please enter a search term."}),d();return}v(),g(r).then(e=>{e.length===0?l.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again."}):(E(e),c.value="")}).catch(e=>{console.error("Error in search:",e),c.value="",l.error({title:"Error",message:"An error occurred while fetching images. Please try again."})}).finally(()=>{L()})});
//# sourceMappingURL=commonHelpers.js.map
