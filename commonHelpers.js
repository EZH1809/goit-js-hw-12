import{a as E,i,S as w}from"./assets/vendor-64b55ca9.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();const b="https://pixabay.com/api/",I="42552421-44c442bdd9fc0080a82eeb482";async function v(t){const n=`${b}?key=${I}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true`;try{const e=await E.get(n);if(e.status!==200)throw new Error(`HTTP error! Status: ${e.status}`);const r=e.data;if(!r.hits||r.hits.length===0)throw new Error("No images found for the given query.");return r.hits}catch(e){return console.error("Error fetching images:",e.message),[]}}const L="https://pixabay.com/api/",C="42552421-44c442bdd9fc0080a82eeb482";let l=1,y="";const d=t=>{const n=t.hits||[],e=t.totalHits||0,r=document.getElementById("gallery"),o=document.getElementById("load-more-btn"),s=document.getElementById("loading-indicator");for(;r.firstChild;)r.removeChild(r.firstChild);if(n.length===0){i.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!"}),o.style.display="none",s.style.display="none";return}n.forEach(m=>{const p=P(m);r.appendChild(p)}),new w(".gallery-item",{captionsData:"alt",captionDelay:250}).refresh(),n.length>=e?(o.style.display="none",i.info({title:"Info",message:"We're sorry, but you've reached the end of search results."})):o.style.display="block",s.style.display="none"},P=t=>{const n=document.createElement("a");n.classList.add("gallery-item"),n.href=t.largeImageURL;const e=document.createElement("img");e.src=t.webformatURL,e.alt=t.tags;const r=document.createElement("div");r.classList.add("gallery-item-info");const o=c("Likes",t.likes),s=c("Views",t.views),a=c("Comments",t.comments),m=c("Downloads",t.downloads);return r.appendChild(o),r.appendChild(s),r.appendChild(a),r.appendChild(m),n.appendChild(e),n.appendChild(r),n},c=(t,n)=>{const e=document.createElement("div");e.classList.add("gallery-item-info-element");const r=document.createElement("span");r.textContent=`${t}: `;const o=document.createElement("span");return o.textContent=n,e.appendChild(r),e.appendChild(o),e},q=async()=>{l++;try{const t=await g(y,l);t&&d(t)}catch(t){console.error("Error loading more images:",t)}},g=async(t,n)=>{const e=`${L}?key=${C}&q=${t}&image_type=photo&orientation=horizontal&safesearch=true&page=${n}&per_page=15`;try{const r=await fetch(e);if(!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);const o=await r.json();if(o.hits.length===0)throw new Error("No images found for the given query.");return o}catch(r){throw console.error("Error fetching images:",r),r}};document.getElementById("load-more-btn").addEventListener("click",()=>{document.getElementById("loading-indicator").style.display="block",document.getElementById("load-more-btn").style.display="none",q()});document.getElementById("search-form").addEventListener("submit",async t=>{t.preventDefault();const n=t.target.querySelector("#search-input").value;l=1,y=n;try{const e=await g(n,l);e&&e.hits.length>0?d(e):(console.log("No images found for the given query."),d({hits:[],totalHits:0}))}catch(e){console.error("Error fetching images:",e)}});const $=document.getElementById("search-form"),u=document.getElementById("search-input"),f=document.querySelector(".loader");function h(){const t=document.getElementById("gallery");t.innerHTML=""}function B(){f.style.display="none"}const S=()=>{f.style.display="block"};$.addEventListener("submit",function(t){t.preventDefault();const n=u.value.trim();if(h(),n===""){i.warning({title:"Warning",message:"Please enter a search term."}),h();return}S(),v(n).then(e=>{e.length===0?i.error({title:"Error",message:"Sorry, there are no images matching your search query. Please try again."}):(d(e),u.value="")}).catch(e=>{console.error("Error in search:",e),u.value="",i.error({title:"Error",message:"An error occurred while fetching images. Please try again."})}).finally(()=>{B()})});
//# sourceMappingURL=commonHelpers.js.map
